# üó∫Ô∏è MapCost Bot - Telegram Mini App

Telegram Mini App —Å –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π –∏ –∫–∞—Ä—Ç–æ–π –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìç –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üó∫Ô∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –º–∞—Ä–∫–µ—Ä–∞–º–∏
- üè™ –ü–æ–∏—Å–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- üé® –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º Telegram
- üí¨ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram WebApp API

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **Backend**: Node.js, Express.js
- **–ö–∞—Ä—Ç—ã**: Leaflet (OpenStreetMap)
- **–•–æ—Å—Ç–∏–Ω–≥**: Vercel (Serverless Functions)
- **API**: RESTful API

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git clone <repository-url>
   cd mapcost-bot
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   npm install
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   npm run dev
   ```

4. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   ```
   http://localhost:3000
   ```

## üåê –î–µ–ø–ª–æ–π –Ω–∞ Vercel

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub

1. **–°–æ–∑–¥–∞–π—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git branch -M main
   git remote add origin https://github.com/yourusername/mapcost-bot.git
   git push -u origin main
   ```

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ Vercel:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [vercel.com](https://vercel.com)
   - –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub
   - –ù–∞–∂–º–∏—Ç–µ "New Project"
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - –ù–∞–∂–º–∏—Ç–µ "Deploy"

3. **–ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π URL:**
   ```
   https://your-project-name.vercel.app
   ```

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Vercel CLI

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI:**
   ```bash
   npm install -g vercel
   ```

2. **–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç:**
   ```bash
   vercel login
   ```

3. **–î–µ–ø–ª–æ–π:**
   ```bash
   vercel --prod
   ```

## üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather:**
   ```
   /newbot
   /setmenubutton
   ```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Web App:**
   ```
   /setmenubutton
   @your_bot_name
   MapCost Bot
   https://your-project-name.vercel.app
   ```

3. **–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—ã:**
   ```
   /setcommands
   @your_bot_name
   start - –ó–∞–ø—É—Å—Ç–∏—Ç—å MapCost Bot
   help - –ü–æ–º–æ—â—å
   ```

## üîß API Endpoints

### GET /api/offers
–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `lat` (number) - –®–∏—Ä–æ—Ç–∞
- `lon` (number) - –î–æ–ª–≥–æ—Ç–∞  
- `radius` (number, optional) - –†–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞ –≤ –∫–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)

**–ü—Ä–∏–º–µ—Ä:**
```
GET /api/offers?lat=55.7558&lon=37.6176&radius=3
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "offers": [
      {
        "id": 1,
        "title": "–†–µ—Å—Ç–æ—Ä–∞–Ω '–í–∫—É—Å –í–æ—Å—Ç–æ–∫–∞'",
        "category": "—Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã",
        "description": "–ê—É—Ç–µ–Ω—Ç–∏—á–Ω–∞—è –≤–æ—Å—Ç–æ—á–Ω–∞—è –∫—É—Ö–Ω—è",
        "address": "—É–ª. –ü—É—à–∫–∏–Ω–∞, 15",
        "phone": "+7 (495) 123-45-67",
        "lat": 55.7558,
        "lon": 37.6176,
        "distance": "0.5",
        "image": "https://example.com/image.jpg",
        "telegram_url": "https://t.me/restaurant"
      }
    ],
    "total": 1,
    "location": { "lat": 55.7558, "lon": 37.6176 },
    "radius": 3
  },
  "timestamp": "2024-01-01T12:00:00.000Z"
}
```

### GET /api/info
–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "name": "Telegram Mini App Server",
    "port": 3000,
    "env": "production",
    "uptime": 3600,
    "timestamp": "2024-01-01T12:00:00.000Z"
  }
}
```

### GET /api/status
–°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "status": "online",
    "version": "1.0.0",
    "uptime": 3600,
    "timestamp": "2024-01-01T12:00:00.000Z"
  }
}
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
mapcost-bot/
‚îú‚îÄ‚îÄ api/                    # Vercel Serverless Functions
‚îÇ   ‚îú‚îÄ‚îÄ info.js            # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ
‚îÇ   ‚îú‚îÄ‚îÄ offers.js          # API –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ status.js          # –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ public/                # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.html         # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ app.js                 # Frontend JavaScript
‚îú‚îÄ‚îÄ server.js              # Express —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ vercel.json            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
‚îú‚îÄ‚îÄ package.json           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –º–∞—Å—Å–∏–≤ `mockOffers` –≤ `server.js`:

```javascript
const mockOffers = [
  {
    id: 6,
    title: "–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è",
    category: "–Ω–æ–≤–∞—è_–∫–∞—Ç–µ–≥–æ—Ä–∏—è",
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
  }
];
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ CSS –≤ `public/index.html` –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª —Å—Ç–∏–ª–µ–π.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Ä—Ç—ã

–ò–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Leaflet –≤ `public/index.html`:

```javascript
map = L.map('map').setView([lat, lng], 15); // –ò–∑–º–µ–Ω–∏—Ç–µ zoom level
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ API endpoints –∑–∞—â–∏—â–µ–Ω—ã CORS
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è Telegram Mini Apps**